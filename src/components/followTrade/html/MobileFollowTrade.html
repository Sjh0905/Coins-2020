<div class="mobile-follow-trade">
  <Loading v-if="loading"/>

  <!--ios status栏-->
  <div v-if="(isApp)" class="mobile-status-bar-ios"/>
  <div v-if="(isApp)" class="mobile-status-bar-bg-ios"/>

  <!--头部-->
  <div :class="(isApp) ? 'mobile-header-ios' : 'fund-buy-header-title' ">
    <div class="fund-buy-header-title-back-icon" @click="jumpToBack">
      <img class="fund-buy-header-title-back-icon-img" src="../../LuckyDraw/assets/mobileForecastHomePage/back_icon.png" alt="">
    </div>
    <div class="fund-buy-header-title-text">镜像交易</div>
    <div v-if="!isGod && isLogin" @click="goToMobileFollowTradeStrategy"><img class="fund-buy" src="../assets/manage_with_orders_icon.png" alt=""></div>
    <div v-if="isGod && isLogin" @click="goToManagementiWthBill"><img class="fund-buy" src="../assets/manage_with_orders_icon.png" alt=""></div>
  </div>

  <!--镜像交易主体部分-->
  <div class="fund-buy-main">
    <!--顶部banner-->
    <div class="folloe-banner">
      <img class="folloe-banner-img" src="../assets/with-banner.png" alt="">
    </div>

    <div class="with-list flex">
      <div class="with-billboard" :class="isSwitchOrder == 'CONTRACT' ? '' : 'switchCss'" @click="switchingOrders('CONTRACT')">合约镜像</div>
      <div class="with-billboard" :class="isSwitchOrder == 'SPOT' ? '' : 'switchCss'" @click="switchingOrders('SPOT')">现货镜像</div>
      <div class="my-with-single" v-if="!isGod && isLogin" @click="goToMobileMyFollowOrder(switchOrder)">我的跟单</div>
      <div class="my-with-single" v-else></div>

      <img v-if="!isGod && isLogin" @click="goToMobileMyFollowOrder(switchOrder)" class="my-with-single-img" src="../../LuckyDraw/assets/mobileForecastHomePage/item_right_icon.png" alt="">
    </div>
<!--    <div class="data-update">数据每小时更新一次</div>-->

    <!--遍历大佬详细信息Start-->
    <div class="big-brother-start" v-if="listGod.length != 0 && !loading" v-for="(item,index) in listGod" >
    <!--大佬头像Start-->
      <div class="big-brother-large-box flex">
        <div>
          <img class="big-brother-img" src="../assets/big-brother.png" alt="">
        </div>
        <div class="big-brother-uid">{{item.userId}}</div>
        <div class="documentary-details">
          <div class="">
            <span class="documentary" v-if="godList.indexOf(item.userId) < 0" @click="goToDocumentary(item,switchOrder)">跟单</span>
            <span class="documentary-follow" v-if="godList.indexOf(item.userId) >= 0">已跟随</span>
          </div>
          <div class="interest-rate" v-if="item.feeType == 'LOT'">{{item.fee || '0'}} USDT/{{days || '0'}}天费用</div>
          <div class="interest-rate" v-if="item.feeType == 'RATE' && isSwitchOrder == 'CONTRACT'">跟单收益 {{accAdd(item.fee,20) || '0'}}%/周费用</div>
          <div class="interest-rate" v-if="item.feeType == 'RATE' && isSwitchOrder == 'SPOT'">跟单收益 {{accAdd(item.fee,20) || '0'}}%/笔费用</div>
        </div>
      </div>
      <!--大佬头像End-->

      <!--大佬交易详情Start-->
      <div class="details-of-big-brother-transaction" @click="goToDocumentary1(item,switchOrder)">
<!--        <div class="accumulated-income">-->
<!--          <div class="percentage" v-if="switchOrder == 'SPOT'" :class="item.rate >= 0 ? 'text-green' : 'text-red'">{{toFixed(item.rate* 10 * 10 || 0,2) }}%</div>-->
<!--          <div class="percentage" v-if="switchOrder == 'CONTRACT'" :class="item.rate >= 0 ? 'text-green' : 'text-red'">{{toFixed(item.rate,2) }}</div>-->
<!--          <div class="padding-bottom color-a2" v-if="switchOrder == 'SPOT'">收益率</div>-->
<!--          <div class="padding-bottom color-a2" v-if="switchOrder == 'CONTRACT'">收益 (USDT)</div>-->
<!--          <div class="color-13">{{toFixed(item.sum,2) || '0'}}</div>-->
<!--          <div class="color-a2">累计交易量 (USDT)</div>-->
<!--        </div>-->
<!--        <div class="accumulated-income">-->
<!--          <div class="color-13">{{item.count}}</div>-->
<!--          <div class="padding-bottom color-a2">总交易笔数</div>-->
<!--          <div class="color-13">{{item.followCount || '0'}}</div>-->
<!--          <div class="color-a2">跟单人数</div>-->
<!--        </div>-->

        <div class="flex with-billboard-xin" v-if="switchOrder == 'CONTRACT'">
          <div class="flex-din mleft">
            <div class="color-13" :class="item.weekRate >= 0 ? 'text-green' : 'text-red'">{{item.weekRate ? toFixed(item.weekRate, 2) : '0'}}%</div>
            <div class="color-a2">本周收益率</div>
          </div>

          <div class="flex-din mre">
            <div class="color-13" :class="item.rate >= 0 ? 'text-green' : 'text-red'">{{item.rate ? toFixed(item.rate, 2) : '0'}}%</div>
            <div class="color-a2">总收益率</div>
          </div>
        </div>
        <div class="flex with-billboard-xin paddign" v-if="switchOrder == 'CONTRACT'">
          <div class="flex-din">
            <div class="color-13" :class="item.weekProfit >= 0 ? 'text-green' : 'text-red'">{{item.weekProfit ? toFixed(item.weekProfit, 2) : '0'}}</div>
            <div class="color-a2">本周收益 (USDT)</div>
          </div>

          <div class="flex-din">
            <div class="color-13" :class="item.profit >= 0 ? 'text-green' : 'text-red'">{{item.profit ? toFixed(item.profit, 2) : '0'}}</div>
            <div class="color-a2">总收益 (USDT)</div>
          </div>
          <div class="flex-din">
            <div class="color-13">{{item.followCount ? item.followCount : '0'}}</div>
            <div class="color-a2">跟单人数</div>
          </div>
        </div>



        <div class="flex with-billboard-xin" v-if="switchOrder == 'SPOT'">
          <div class="flex-din mre">
            <div class="color-13" v-if="isSwitchOrder == 'SPOT'" :class="item.rate >= 0 ? 'text-green' : 'text-red'">{{item.rate ? toFixed(item.rate * 10 * 10 || 0 , 2) : '0'}}%</div>
            <div class="color-a2" v-if="isSwitchOrder == 'SPOT'">收益率</div>
          </div>
          <div class="flex-din">
            <div class="color-13">{{item.sum ? toFixed(item.sum, 2) : '0'}}</div>
            <div class="color-a2">累计交易量 (USDT)</div>
          </div>
        </div>
        <div class="flex with-billboard-xin paddign" v-if="switchOrder == 'SPOT'">
          <div class="flex-din">
            <div class="color-13">{{item.count ? item.count : '0'}}</div>
            <div class="color-a2">总交易笔数</div>
          </div>
          <div class="flex-din">
            <div class="color-13">{{item.followCount ? item.followCount : '0'}}</div>
            <div class="color-a2">跟单人数</div>
          </div>
        </div>
      </div>
      <!--大佬交易详情End-->
    </div>
    <!-- 无数据图片 -->
    <template v-if="listGod.length == 0 && !loading">
      <div class="weit">
        <div class="nhtu"><img src="../assets/no_list.png">
          <p class="nhtu_p">{{$t('orderPageCurrentEntrustment.close_9')}}</p>
        </div>
      </div>
    </template>
    <!--遍历大佬详细信息End-->
  </div>



  <!--弹窗-->
  <div v-if="popIdenOpen" class="lock-position-confirm-toast">
    <div class="lock-position-confirm-toast-window">
      <!--关闭按钮-->
      <div class="lock-position-confirm-toast-close-btn" @click="popIdenClose">
        <img class="lock-position-confirm-toast-close-btn-img" src="../../../assets/mobile_img/mobile_asset_commen/h5_toast_close_btn.png" alt="">
      </div>
      <!--顶部标题-->
      <div class="lock-position-confirm-toast-title">提示</div>
      <div class="lock-position-confirm-toast-list">
        <div class="lock-position-confirm-toast-item" v-if="(isApp)">
          <!--该操作需要身份认证，请立刻前往app端个人中心完成-->
          该操作需要身份认证，请立刻前往个人中心完成
        </div>
        <div class="lock-position-confirm-toast-item" v-if="!isApp">
          <!--该操作需要身份认证，请立刻前往app端个人中心完成-->
          该操作需要身份认证，请立刻前往PC端个人中心完成
        </div>
      </div>
      <div class="lock-position-confirm-toast-btns">
        <div class="lock-position-confirm-toast-btn-confirm btn_blue" @click="popIdenClose">我知道了</div>
      </div>
    </div>
  </div>

  <!--toast弹框-->
  <PopupPrompt :popOpen="popOpen" :popClose="closePop" :popType="popType" :popText="popText" :waitTime="waitTime" />

</div>
