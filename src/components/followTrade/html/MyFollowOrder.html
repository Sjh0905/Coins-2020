<div class="container">
  <!--    面包屑-->
  <div class="follow-info">
    <div class="follow-container">
      <div class="follow-trande-bread">
<!--        <router-link to="/index/followTrade" class="management">{{$t('followOrder')}}</router-link>-->
        <router-link to="/index/followTrade" class="management" v-if="isSwitchOrder == 'SPOT'">
          <!--现货带单-->
          {{$t('现货带单')}}
        </router-link>
        <router-link to="/index/followTrade" class="management" v-if="isSwitchOrder == 'CONTRACT'">
          <!--合约带单-->
          {{$t('合约带单')}}
        </router-link>
        <span> > </span>
        {{$t('myFollowOrder')}}
      </div>
    </div>
  </div>

  <div class="follow-asset">
    <div class="follow-asset-title flex">

      <div class="follow-asset-total-data flex">
        <div class="follow-asset-total">
          <div class="follow-monery">累计跟单总交易量（USDT）</div>
          <div class="follow-asset-acount">{{toFixed(total ||'0',2)}}</div>
        </div>
        <div class="follow-asset-total">
          <div class="follow-monery">跟单总收益（USDT）</div>
          <div class="follow-asset-acount">{{toFixed(profit || '0',2)}}</div>
        </div>
      </div>


      <div class="follow-asset-renewal">
<!--        <div class="follow-asset-remind pointer" @mouseenter="openRenew()" @mouseleave="closeRenew()">-->
<!--          <img src="../assets/remind_icon.png" alt="" >-->
<!--        </div>-->
<!--        <div class="line"></div>-->
        <div class="right-switch flex">
          <div>跟单到期自动续费</div>
          <!--关闭按钮-->
          <div class="follow-asset-close-open flex pointer" @click="clickToggle" v-if="!isAutomatic">
            <span class="open-automatic-renew-text-grew">已关闭</span>
            <img src="../../../assets/personalCenter/personal_center_close.png" alt="">
          </div>
          <!--打开按钮-->
          <div class="follow-asset-close-open flex pointer" @click="clickToggle" v-if="isAutomatic">
            <span class="open-automatic-renew-text">已开启</span>
            <img src="../../../assets/personalCenter/personal_center_open.png" alt="">
          </div>
        </div>
        <!--隐藏的方块-->
        <div class="descript">
          <div>若此开关开启，跟单到期时，将自动续费，若因账户余额不足无法续费，跟单将停止。</div>
          <div>若此开关关闭，跟单到期后，跟单将停止。</div>
          <div>由于跟单费用可以随时调整，自动续费金额以将以最新设定费用为准，敬请保持关注。</div>
        </div>
      </div>


    </div>



    <div class="follow-asset-content" v-if="followUserList.length != 0">
      <!--正在跟随-->
      <div class="follow-asset-content-title">{{$t('Followed')}}</div>

      <div class="follow-asset-topic-title flex">
        <!--正在跟随-->
        <div class="UID">UID</div>
        <!--时间-->
        <div class="time">{{$t('time')}}</div>
<!--        &lt;!&ndash;交易对&ndash;&gt;-->
<!--        <div class="exchange-pair">{{$t('transactionPair')}}</div>-->
        <!--类型-->
        <div class="type">{{$t('type')}}</div>
        <!--交易方式-->
        <div class="follow-type">{{$t('transactionMode')}}</div>
        <!--累计笔数-->
        <div class="total-acount">{{$t('totalNumber')}}</div>
        <!--累计金额-->
        <div class="total-money">{{$t('totalMoney')}} (USDT)</div>
        <!--累计收益-->
        <div class="total-income">{{$t('totalIncome')}}</div>
        <!--操作-->
        <div class="operation">{{$t('operation')}}</div>
      </div>

      <div class="follow-asset-topic-content flex" v-for="(item,index) in followUserList" :key="index">
        <div class="UID">{{item.followId}}</div>
        <div class="time">{{formatDateUitl(item.followTime)}}</div>
<!--        <div class="exchange-pair">{{item.symbol.replace('_','/')}}</div>-->
        <!--现货-->
        <div class="type">{{item.type == 'SPOT' ? $t('spot') : $t('合约')}}</div>
        <!--固定金额/固定比例-->
        <div class="follow-type">{{item.followType == 'LOT'? $t('fixedAmount') +'：' + item.lot || 0 +'USDT' :$t('fixedProportion')}}</div>
        <div class="total-acount">{{toFixed(item.count,0) || '0'}}</div>
        <div class="total-money">{{toFixed(item.amount,2) || '0'}}</div>
        <div class="total-income">{{toFixed(item.profit,2) || '0'}}</div>
        <div class="operation">
          <!--修改策略-->
          <span class="btn-size update pointer" @click="openFollowWindow(item)">{{$t('modifyPolicy')}}</span>
          <!--取消跟随-->
          <span class="btn-size pointer" @click="delFollow(item)">{{$t('cancelFollowing')}}</span>
        </div>
      </div>
<!--      <div class="follow-asset-not-data" >-->
<!--        <div>-->
<!--          <img src="../../../assets/noOrders.png" alt="">-->
<!--        </div>-->
<!--        暂无数据-->
<!--      </div>-->
    </div>
  </div>
  <!--修改跟单策略-->
  <PopupWindow :switch="popWindowOpen" @close="popWindowClose">
    <div slot="header">
      <!--修改镜像交易-->
<!--      <span class="update-follow">{{$t('modifyPolicyOrders')}}</span>-->
      <span class="update-follow" v-if="isSwitchOrder == 'SPOT'">{{$t('修改现货跟单')}}</span>
      <span class="update-follow" v-if="isSwitchOrder == 'CONTRACT'">{{$t('修改合约跟单')}}</span>
    </div>
    <div slot="article" class="update-follow-article">
      <div class="follow-order flex">
        <!--跟单-->
        <div>{{$t('documentary')}}</div>
        <div class="follow-order-data">{{followId}}</div>
      </div>
      <div class="follow-order flex">
        <!--跟单币对-->
        <div>{{$t('documentaryPair')}}</div>
        <div class="follow-order-data" v-if="isSwitchOrder == 'SPOT'">BTC ETH LTC BCH</div>
        <div class="follow-order-data" v-if="isSwitchOrder == 'CONTRACT'">BTCUSDT</div>
      </div>
      <div class="follow-order">
        <!--跟单方式-->
        <div class="follow-order-title">{{$t('documentaryMode')}}</div>
        <div class="flex" v-if="isSwitchOrder == 'SPOT'">
          <!--固定金额-->
          <div class="fixed-amount-proportion pointer" :class="followType == 'LOT' ? 'fixed-amount' : '' " @click="fixedType('LOT')">{{$t('fixedAmount')}}</div>
          <!--固定比例-->
          <div class="fixed-amount-proportion pointer" :class="followType == 'RATE' ? 'fixed-amount' : '' " @click="fixedType('RATE')">{{$t('fixedProportion')}}</div>
        </div>
        <span class="fixed-amount-proportion fixed-amount pointer" v-if="isSwitchOrder == 'CONTRACT'" >{{$t('fixedProportion')}}</span>
      </div>
      <div class="fund-description-amount" v-if="followType == 'LOT' && isSwitchOrder == 'SPOT'">
        <!--跟单金额-->
        <div class="fund-description-usdt">{{$t('documentarySum')}}（USDT）</div>
        <div class="fund-description-info-right-input">
          <!--输入金额-->
          <input v-model="fixedAmountLot" :placeholder= "this.$t('enterAmount')"
                 step="1"  min="0" onkeyup="this.value= this.value.match(/\d+(\.\d{0,2})?/) ? this.value.match(/\d+(\.\d{0,2})?/)[0] : ''">
        </div>
      </div>
      <div class="fund-description-amount" v-if="followType == 'RATE'">
        <!--        <div class="fund-description-usdt">单位基准(USDT/单位)</div>-->
        <!--        <div class="fund-description-info-right-input">-->
        <!--          <input v-model="fixedAmountRate" placeholder="输入比例"-->
        <!--                 step="1"  min="0" onkeyup="this.value= this.value.match(/\d+(\.\d{0,2})?/) ? this.value.match(/\d+(\.\d{0,2})?/)[0] : ''"> %-->
        <!--        </div>-->
      </div>
      <div class="remind" v-if="followType == 'LOT'" >
        <!--固定金额跟单：-->
        <div>{{$t('fixedAmountOrders')}}</div>
        <!--1、例如您设置跟单金额为100USDT，交易员下单时，无论交易员以多少金额下单，您都将以100USDT作为本金以交易员相同的价格跟随下单；-->
        <div>{{$t('fixedAmountOrders_detail1')}}</div>
        <!--2、交易员每下一次单，您都将以每次100USDT的本金进行跟单操作，当您的可用资产小于100USDT时，此次跟单失败；-->
        <div>{{$t('fixedAmountOrders_detail2')}}</div>
        <!--3、当交易员撤掉时，您同步跟随的该笔订单将同步被撤销；-->
        <div>{{$t('fixedAmountOrders_detail3')}}</div>
        <!--4、在交易员未进行撤单操作时，您也可以自行取消该笔跟单操作；-->
<!--        <div>{{$t('fixedAmountOrders_detail4')}}</div>-->
<!--        &lt;!&ndash;5、买入、卖出均已USDT进行核算，例：以一个BTC10000美金为例，100USDT固定金额相当于 0.01BTC。&ndash;&gt;-->
<!--        <div>{{$t('fixedAmountOrders_detail5')}}</div>-->
      </div>
      <div class="remind" v-if="followType == 'RATE'">
        <!--固定比例跟单：-->
        <div>{{$t('fixedProportionOrders')}}</div>
        <!--1、按比例跟单，如果交易员以10%的仓位本金进行下单时，您将以自己仓位的10%的本金进行自动跟单；-->
        <div>{{$t('fixedProportionOrders_detail1')}}</div>
        <!--2、比如交易员仓位1000美金，下单100美金，占仓位的10%，您仓位有500美金，则以50美金进行跟单；-->
        <div>{{$t('fixedProportionOrders_detail2')}}</div>
        <!--3、如果交易员仓位1000美金，以1000美金下单，占仓位的100%，您仓位有10000美金，则以10000美金进行全仓跟单；-->
        <div>{{$t('fixedProportionOrders_detail3')}}</div>
        <!--4、跟单时将与带单交易员相同的价格进行下单，直至您的可用资金不足为止；-->
        <div>{{$t('fixedProportionOrders_detail4')}}</div>
        <!--5、当交易员撤掉时，您同步跟随的该笔订单将同步被撤销；-->
<!--        <div>{{$t('fixedProportionOrders_detail5')}}</div>-->
<!--        &lt;!&ndash;6、在交易员未进行撤单操作时，您也可以自行取消该笔跟单操作。&ndash;&gt;-->
<!--        <div>{{$t('fixedProportionOrders_detail6')}}</div>-->
      </div>
    </div>
    <div slot="footer" class="pop-recharge-bottom">
      <!--确认修改-->
      <div class="documentary-button pointer" @click="commitModify">{{$t('commitUpdate')}}</div>
    </div>
  </PopupWindow>
  <!--取消跟随弹框-->
  <PopupPrompt :popOpen="popOpen" :popClose="closePop" :popType="popType" :popText="popText" :waitTime="waitTime" />


  <PopupWindow :switch="delFollowOpen" @close="delFollowClose">
    <div slot="header">
      <!--取消跟随-->
      <span class="update-follow">{{$t('cancelFollowing')}}</span>
    </div>
    <div slot="article" class="cancel-follow-article">
      <!--是否取消对-->
      <div>{{$t('wantToCancel')}}
      <span class="text_blue">{{followId}}</span>
        <!--的跟随-->
      {{$t('followOf')}}</div>
    </div>
    <div slot="footer" class="pop-recharge-bottom">
      <!--确 定-->
      <div class="documentary-button pointer" @click="delFollowList">{{$t('commit')}}</div>
    </div>
  </PopupWindow>


</div>
