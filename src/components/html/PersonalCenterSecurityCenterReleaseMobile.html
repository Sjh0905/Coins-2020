<div class="release-container border_radius">
  <Loading v-if="loading"/>
  <template v-if="!loading && !isMobile">
    <div class="release-title flex">
      <span></span>
      <span>{{$t('personalCenterSecurityCenterReleaseMobile.title')}}</span>
      <!--<span>*为了您的资产安全，重置登录密码修改24h以内不允许提现。</span>-->
    </div>

    <div class="release-article">

      <!--输入登录密码 begin-->
      <div class="input-password input-container">
        <div class="detail-center">
          <span class="detail-center-title">{{$t('personalCenterSecurityCenterReleaseMobile.psw')}}</span>
          <input type="password"
                 class="unit-input"
                 :class="{'wrong-border':pswWA!==''}"
                 v-model="psw"
                 @blur="testPsw"
          >
          <span class="detail-center-prompt wrong-msg" v-if="pswWA!==''">{{pswWA}}</span>
        </div>
      </div>
      <!--输入登录密码 end-->

      <!--输入手机号 begin-->
      <div class="phone-number input-container">
        <div class="detail-center">
          <span class="detail-center-title">{{$t('personalCenterSecurityCenterReleaseMobile.sms')}}</span>
          <span class="phone-prompt">+86</span>
          <input type="text"
                 class="unit-input phone-input"
                 :class="{'wrong-border':mobileWA!==''}"
                 @blur="testMobile"
                 v-model="mobile"
          >
          <span class="detail-center-prompt wrong-msg" v-if="mobileWA!==''">{{mobileWA}}</span>
        </div>
      </div>
      <!--输入手机号 end-->

      <!--发送验证码 begin-->
      <div class="verification-code input-container double-input-container">
        <div class="detail-center">
          <span class="detail-center-title">{{$t('personalCenterSecurityCenterReleaseMobile.verificationCode')}}</span>
          <input type="text"
                 class="unit-input"
                 :class="{'wrong-border':verificationCodeWA!==''}"
                 v-model="verificationCode"
                 @blur="testVerificationCode"
          >
          <button @click="getVerificationCodeFunc" v-if="!getVerificationCode" class="btn_blue">
            {{$t('personalCenterSecurityCenterReleaseMobile.sendVerificationCode')}}
          </button>
          <button @click="getVerificationCodeFunc" class="click-verification btn_grey" v-else disabled>
            {{getVerificationCodeCountdown}}s
          </button>
          <span class="detail-center-prompt wrong-msg" v-if="verificationCodeWA!==''">{{verificationCodeWA}}</span>
        </div>
      </div>
      <!--发送验证码 end-->

      <!--确定 begin-->
      <div class="ensure input-container">
        <div class="detail-center">
          <button v-if="!sending" @click="commit" class="btn_blue">
            {{$t('personalCenterSecurityCenterReleaseMobile.ensure')}}
          </button>
          <button v-else class="btn_grey">{{$t('personalCenterSecurityCenterReleaseMobile.releasing')}}</button>
        </div>
      </div>
      <!--确定 end-->

    </div>

  </template>

  <PopupPrompt :popOpen="popOpen" :popClose="popClose" :popType="popType" :popText="popText"/>

  <template v-if="!loading && isMobile">
    <div class="unit-title flex-center">
      <span class="unit-title-line"></span>
      <span class="unit-title-text">{{$t('personalCenterSecurityCenterReleaseMobile.title')}}</span>
      <span class="unit-title-line"></span>
    </div>
    <div class="unit-container flex-center">
      <!--密码-->
      <div class="unit-input-container flex" :class="{'wrong-answer':pswWA!=''}">
        <span class="flex-center unit-input-container-title">
          <img class="unit-input-container-title-img" src="../../assets/h5form/mobile_passward.png" alt="">
        </span>
        <input type="password" :placeholder="$t('personalCenterSecurityCenterReleaseMobile.psw')"
               v-model="psw" @blur="testPsw" class="unit-input">
      </div>
      <div class="unit-input-interval txt-red">
        <span v-if="pswWA!=''">{{pswWA}}</span>
      </div>
      <!--手机号码-->
      <div class="unit-input-container flex" :class="{'wrong-answer':mobileWA!=''}">
        <span class="flex-center unit-input-container-title">
          +86
        </span>
        <input type="number" :placeholder="$t('personalCenterSecurityCenterReleaseMobile.sms')" v-model="mobile"
               @blur="testVerificationCode"
               class="unit-input">
      </div>
      <div class="unit-input-interval txt-red">
        <span v-if="mobileWA!=''">{{mobileWA}}</span>
      </div>
      <!--发送验证码-->
      <div class="unit-input-container flex double-input-container"
           :class="{'wrong-answer':verificationCodeWA!=''}">
        <span class="flex-center unit-input-container-title">
          <img class="unit-input-container-title-img" src="../../assets/h5form/mobile_check.png" alt="">
        </span>
        <input type="text" :placeholder="$t('personalCenterSecurityCenterBindMobile.verificationCode')"
               v-model="verificationCode"
               @blur="testVerificationCode" class="unit-input">
        <div class="cutter-line flex-center">|</div>
        <span class="flex-center identifying-code-button-on" v-if="!getVerificationCode"
              @click="getVerificationCodeFunc">{{$t('personalCenterSecurityCenterBindMobile.send')}}</span>
        <span class="flex-center identifying-code-button-close"
              v-if="getVerificationCode">{{getVerificationCodeCountdown}}</span>
      </div>
      <div class="unit-input-interval txt-red">
        <span v-if="verificationCodeWA!=''">{{verificationCodeWA}}</span>
      </div>
      <!--按钮-->
      <div class="unit-input-container container-button">
        <button @click="commit" class="set-button before-register-button" v-if="!sending">
          {{$t('personalCenterSecurityCenterBindMobile.ensure')}}
        </button>
        <button disabled class="set-button registering-button" v-else>
          {{$t('personalCenterSecurityCenterBindMobile.binding')}}
        </button>
      </div>
    </div>
  </template>

</div>
